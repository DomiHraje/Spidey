plugins {

    id 'java'
    
}

task shadowJar(type: Jar) {

	manifest {
	
        attributes 'Main-Class': 'me.canelex.Spidey.Core'
        	
    }
    
    baseName = project.name + '-withDependencies'
    
    from { 
    
        configurations.compile.collect { 
        
            it.isDirectory() ? it : zipTree(it) 
            
        } 
        
    }
            
    with jar
    
}

repositories {

    jcenter()
    
}

dependencies {

    compile group: 'mysql', name: 'mysql-connector-java', version: '8.0.15'
    
    compile (group: 'net.dv8tion', name: 'JDA', version: '4.ALPHA.0_57') {
    
       exclude group: 'club.minnced', module: 'opus-java'
       
    }   
    
    compile group: 'ch.qos.logback', name: 'logback-classic', version: '1.2.3'
    compile group: 'org.codehaus.groovy', name: 'groovy-jsr223', version: '3.0.0-alpha-4'
    compile group: 'org.apache.commons', name: 'commons-lang3', version: '3.8.1'
    compile group: 'net.dean.jraw', name: 'JRAW', version: '1.1.0'
    compile group: 'com.google.apis', name: 'google-api-services-youtube', version: 'v3-rev206-1.25.0'       
    compile group: 'com.mashape.unirest', name: 'unirest-java', version: '1.4.9'
    compile group: 'at.mukprojects', name: 'giphy4j', version: '1.0.1'     
    
}

group = 'me.canelex'
version = 'STABLE'
description = 'Spidey'
sourceCompatibility = '8'

tasks.withType(JavaCompile) {

    options.encoding = 'UTF-8'
    
}