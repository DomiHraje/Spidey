plugins {

    id 'java'
    id 'maven'
    
}

task fatJar(type: Jar) {

	manifest {
	
        attributes 'Main-Class': 'me.canelex.Spidey.Core'
        	
    }
    
    baseName = project.name + '-withDependencies'
    
    from { 
    
        configurations.compile.collect { 
        
            it.isDirectory() ? it : zipTree(it) 
            
        } 
        
    }
            
    with jar
    
}

repositories {

    mavenCentral()
    
    maven {
    
        url = 'http://jcenter.bintray.com'
        
    }
    
}

dependencies {

    compile 'mysql:mysql-connector-java:8.0.15'
    
    compile ('net.dv8tion:JDA:4.ALPHA.0_42') {
    
       exclude module: 'opus-java'
       
    }   
    
    compile 'ch.qos.logback:logback-classic:1.2.3'
    compile 'org.apache.commons:commons-lang3:3.8.1'
    compile 'org.codehaus.groovy:groovy-jsr223:3.0.0-alpha-4'
    
}

group = 'me.canelex'
version = 'STABLE'
description = 'Spidey'
sourceCompatibility = '8'

tasks.withType(JavaCompile) {

    options.encoding = 'UTF-8'
    
}